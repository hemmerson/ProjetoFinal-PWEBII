<!DOCTYPE html>

<html th:replace="~{fragments/layout :: layout(~{::head},~{::main})}">

<head th:insert="~{fragments/head :: head(~{})}">
    <title>Cadastrar Consulta</title>
</head>

<body>
<main>
    <div class="container">
        <h1>Cadastrar Consulta</h1>
        <hr>
        <div class="row d-flex justify-content-center align-items-center h-100 mb-5">
            <form class="row g-3" th:action="${consulta.id == 0} ? @{/consultas/save} : @{/consultas/update}"
                  th:object="${consulta}"
                  method="post">
                <input class="form-control" type="hidden" th:field="*{id}">
                <div class="col-md-6">
                    <div class="form-floating">
                        <select id="paciente" name="paciente" th:field="*{paciente.id}" class="form-select">

                            <option value="">Selecione...</option>

                            <option th:each="p : ${pacientes}"

                                    th:value="${p.id}"

                                    th:text="${p.nome}">

                            </option>

                        </select>
                        <label for="paciente">Nome do Paciente</label>
                    </div>
                </div>
                <input class="form-control" type="hidden" th:field="*{paciente.id}">
                <div class="col-md-6">
                    <div class="form-floating">
                        <select id="medico" name="medico" th:field="*{medico.id}" class="form-select">

                            <option value="">Selecione...</option>

                            <option th:each="m : ${medicos}"

                                    th:value="${m.id}"

                                    th:text="${m.nome}">

                            </option>

                        </select>
                        <label for="medico">Nome do Médico</label>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="form-floating">
                        <input class="form-control" id="data" type="datetime-local" th:field="*{data}"
                               placeholder="Data">
                        <label for="data">Data</label>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="form-floating">
                        <input class="form-control" id="valor" type="number" th:field="*{valor}" placeholder="Valor">
                        <label for="valor">Valor</label>
                    </div>
                </div>
                <div class="col-md-12">
                    <div class="form-floating">
                    <textarea class="form-control" id="observacao" th:field="*{observacao}" placeholder="Observação"
                              rows="5"></textarea>
                        <label for="observacao">Observação</label>
                    </div>
                </div>
                <input class="btn btn-outline-primary" type="submit" value="Enviar">
                <a th:href="@{/consultas/list}" class="btn btn-secondary">Lista</a>
            </form>
        </div>
    </div>
</main>
</body>
</html>